{% extends 'base.html' %}

{% block title %}Create Task{% endblock %}

{% block content %}
<h2 class="my-4 text-center">Create a New Task</h2>
<div class="row justify-content-center">
    <div class="col-md-8 col-lg-6">
        <form method="POST" class="form card p-4 shadow-sm">
            {% csrf_token %}

            <!-- Title Field -->
            <div class="mb-3">
                {{ form.title.label_tag }}
                {{ form.title }}
                {{ form.title.errors }}
            </div>

            <!-- Description Field -->
            <div class="mb-3">
                {{ form.description.label_tag }}
                {{ form.description }}
                {{ form.description.errors }}
            </div>

            <!-- Status Field -->
            <div class="mb-3">
                {{ form.status.label_tag }}
                {{ form.status }}
                {{ form.status.errors }}
            </div>

            <!-- Due Date Field -->
            <div class="mb-3">
                {{ form.due_date.label_tag }}
                {{ form.due_date }}
                {{ form.due_date.errors }}
            </div>

            <!-- Buttons -->
            <div class="mt-4 text-center">
                <button type="submit" class="btn btn-success me-3 px-4">Create Task</button>
                <a href="{% url 'task_list' %}" class="btn btn-secondary px-4">Cancel</a>
            </div>
        </form>
    </div>
</div>

<!-- Flatpickr Initialization -->
<script>
    document.addEventListener('DOMContentLoaded', function () {
        flatpickr("#id_due_date", {
            enableTime: true,
            dateFormat: "Y-m-d H:i",
        });
    });
</script>
{% endblock %}
